This directory contains a simple C program that runs on the
RISC-V serv core on the serving SoC.

You must build the software BEFORE building the Verilog and rebuild
the Verilog whenever you rebuuild the software.  This is becuase the
Verilog initializes SRAM based on file prog.hex.

The build environment is limited. Some things to know:

* BSS (data not explicitly initialized) is NOT set to zero.
* No standard library functions are available.
* It's possible I missed some section type in the linker
  command file.
* The SoC has little SRAM so programs cannot be large.  See Makefile
  for where and how to set the SRAM size.

I develop software on Linux.  When using Windows for the Gowin tools,
I use Windows subsytem for Linux (WSL2) on Windows.  This also
simplifes getting the needed risc-v toolchain.

You will need the gcc cross compiler for riscv.  On Ubuntu, try

  sudo apt install gcc-riscv64-unknown-elf binutils-riscv64-unknown-elf

For Fedora, try

  sudo dnf install gcc-riscv32-linux-gnu binutils-riscv32-linux-gnu

The makefile may require gnumake.  I am not sure!

Hints:

  riscv64-unknown-elf-objdump -d prog.elf will disassemble the code.

  riscv64-unknown-elf-objdump -x prog.elf shows sections and addresses.

  riscv64-unknown-elf-nm --numeric-sort shows symbols and addresses.
